<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Extra features | Vuex Easy Firestore 🔥</title>
    <meta name="description" content="Easy coupling of firestore and vuex. 2-way sync with 0 boilerplate!">
    
    
    <link rel="preload" href="/vuex-easy-firestore/assets/css/styles.b09044e6.css" as="style"><link rel="preload" href="/vuex-easy-firestore/assets/js/app.b09044e6.js" as="script"><link rel="preload" href="/vuex-easy-firestore/assets/js/6.603af246.js" as="script"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/4.6f83facc.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/css/1.styles.d3602896.css"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/1.d3602896.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/css/2.styles.8662775e.css"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/2.8662775e.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/3.25383995.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/5.799ee39a.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/7.aaf5a995.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/8.a9ae9742.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/9.1e962ae4.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/10.5094f20e.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/11.78e53883.js">
    <link rel="stylesheet" href="/vuex-easy-firestore/assets/css/1.styles.d3602896.css"><link rel="stylesheet" href="/vuex-easy-firestore/assets/css/2.styles.8662775e.css"><link rel="stylesheet" href="/vuex-easy-firestore/assets/css/styles.b09044e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuex-easy-firestore/" class="home-link router-link-active"><!----> <span class="site-name">Vuex Easy Firestore 🔥</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/mesqueeb/vuex-easy-firestore/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mesqueeb/vuex-easy-firestore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/mesqueeb/vuex-easy-firestore/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mesqueeb/vuex-easy-firestore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vuex-easy-firestore/setup.html" class="sidebar-link">Installation &amp; setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#setup" class="sidebar-link">Setup</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#first-steps" class="sidebar-link">First steps</a></li></ul></li><li><a href="/vuex-easy-firestore/add-and-manage-data.html" class="sidebar-link">Add and manage data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#basic-usage" class="sidebar-link">Basic usage</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#collection-mode" class="sidebar-link">'collection' mode</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#doc-mode" class="sidebar-link">'doc' mode</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#batch-updates-inserts-deletions" class="sidebar-link">Batch updates/inserts/deletions</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#duplicating-docs" class="sidebar-link">Duplicating docs</a></li></ul></li><li><a href="/vuex-easy-firestore/query-data.html" class="sidebar-link">Query data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#get-data" class="sidebar-link">Get data</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#realtime-updates-vs-single-fetch" class="sidebar-link">Realtime updates vs single fetch</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#realtime-updates-opendbchannel" class="sidebar-link">Realtime updates: openDBChannel</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#fetching-docs" class="sidebar-link">Fetching docs</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#firestore-authentication" class="sidebar-link">Firestore authentication</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#where-orderby-filters" class="sidebar-link">where / orderBy filters</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#multiple-modules-with-2-way-sync" class="sidebar-link">Multiple modules with 2-way sync</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#sync-directly-to-module-state" class="sidebar-link">Sync directly to module state</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#manual-fetch-handling" class="sidebar-link">Manual fetch handling</a></li></ul></li><li><a href="/vuex-easy-firestore/firestore-fields-and-functions.html" class="sidebar-link">Firestore fields and functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/firestore-fields-and-functions.html#arrayunion-and-arrayremove" class="sidebar-link">arrayUnion and arrayRemove</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/firestore-fields-and-functions.html#delete-fields" class="sidebar-link">Delete fields</a></li></ul></li><li><a href="/vuex-easy-firestore/hooks.html" class="sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-on-local-changes" class="sidebar-link">Hooks on local changes</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-after-server-changes" class="sidebar-link">Hooks after server changes</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#execution-timings-of-hooks" class="sidebar-link">Execution timings of hooks</a></li></ul></li><li><a href="/vuex-easy-firestore/extra-features.html" class="active sidebar-link">Extra features</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#variables-for-firestorepath-or-filters" class="sidebar-link">Variables for firestorePath or filters</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#fillables-and-guard" class="sidebar-link">Fillables and guard</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#default-values" class="sidebar-link">Default values</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#firestore-timestamp-conversion" class="sidebar-link">Firestore Timestamp conversion</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#shortcut-set-path-doc" class="sidebar-link">Shortcut: set(path, doc)</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#pass-firebase-dependency" class="sidebar-link">Pass Firebase dependency</a></li></ul></li><li><a href="/vuex-easy-firestore/config-example.html" class="sidebar-link">Config example</a></li><li><a href="/vuex-easy-firestore/feedback.html" class="sidebar-link">Feedback</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="extra-features"><a href="#extra-features" aria-hidden="true" class="header-anchor">#</a> Extra features</h1> <h2 id="variables-for-firestorepath-or-filters"><a href="#variables-for-firestorepath-or-filters" aria-hidden="true" class="header-anchor">#</a> Variables for firestorePath or filters</h2> <p>Besides <code>'{userId}'</code> in your <code>firestorePath</code> in the config or in where filters, you can also use <strong>any variable</strong> in the <code>firestorePath</code> or the <code>where</code> filter.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// your vuex module</span>
SpecificGroupUserModule<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  moduleName<span class="token punctuation">:</span> <span class="token string">'groupUserData'</span><span class="token punctuation">,</span>
  firestorePath<span class="token punctuation">:</span> <span class="token string">'groups/{groupId}/users/{userId}'</span>
<span class="token punctuation">}</span>
<span class="token comment">// Just pass the groupId as a parameter to openDBChannel!</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'groupUserData/openDBChannel'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>groupId<span class="token punctuation">:</span> <span class="token string">'group-A'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Use case: Retrieve a variable from the user's Data</strong></p> <p>Custom variables are especially useful if you need to first retrieve eg. a <code>groupId</code> from the user's data also on firestore. You can do so by waiting for the Promise to resolve after <code>openDBChannel</code> to retrieve the user's data (eg. another vuex-easy-firestore module called <code>userData</code>):</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// in this example the `userData` module will retrieve {userName: '', groupId: ''}</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'userData/openDBChannel'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Then we can get the groupId:</span>
    <span class="token keyword">const</span> userGroupId <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>userData<span class="token punctuation">.</span>groupId
    <span class="token comment">// Then we can pass it as variable to the next openDBChannel:</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'groupUserData/openDBChannel'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>groupId<span class="token punctuation">:</span> userGroupId<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="fillables-and-guard"><a href="#fillables-and-guard" aria-hidden="true" class="header-anchor">#</a> Fillables and guard</h2> <p>You can prevent props on your docs to be synced to the firestore server. For this you should use either <code>fillables</code> <strong>or</strong> <code>guard</code>:</p> <ul><li><em>Fillables:</em> Array of keys - the props which <strong>may be synced</strong> to the server.
<ul><li>0 fillables = all props are synced</li> <li>1 or more fillables = only those props are synced (any prop not in fillables is not synced)</li></ul></li> <li><em>Guard:</em> Array of keys - the props which <strong>should not be synced</strong> to the server.
<ul><li>adding any prop here will prevent it from being synced</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// your other vuex-easy-fire config...</span>
  sync<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fillables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// array of  keys</span>
    guard<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// array of keys</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="example-fillables"><a href="#example-fillables" aria-hidden="true" class="header-anchor">#</a> Example fillables</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// settings:</span>
fillables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span>

<span class="token comment">// insert new doc:</span>
<span class="token keyword">const</span> newUser <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Ash'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">'ash@pokemon.com'</span><span class="token punctuation">}</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'user/set'</span><span class="token punctuation">,</span> newUser<span class="token punctuation">)</span>

<span class="token comment">// object which will be added to Vuex `user` module:</span>
<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Ash'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">'ash@pokemon.com'</span><span class="token punctuation">}</span>

<span class="token comment">// object which will be synced to firestore:</span>
<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Ash'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="example-guard"><a href="#example-guard" aria-hidden="true" class="header-anchor">#</a> Example guard</h3> <p>If you have only one prop you do not want to sync to firestore you can set <code>guard</code> instead of <code>fillables</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// the same example as above can also be achieved by doing:</span>
guard<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="nested-fillables-guard"><a href="#nested-fillables-guard" aria-hidden="true" class="header-anchor">#</a> Nested fillables/guard</h3> <p>In the example below we will prevent the nested field called <code>notAllowed</code> from being synced:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> docToPatch <span class="token operator">=</span> <span class="token punctuation">{</span>nested<span class="token punctuation">:</span> <span class="token punctuation">{</span>allowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> notAllowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">// in your module config, either set the fillables like so:</span>
fillables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'nested.allowed'</span><span class="token punctuation">]</span>

<span class="token comment">// OR set your guard like so:</span>
guard<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'nested.notAllowed'</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="wildcard-fillables-guard"><a href="#wildcard-fillables-guard" aria-hidden="true" class="header-anchor">#</a> Wildcard fillables/guard</h3> <p>You can also use wildcards!</p> <p>In this example you have a document with an object called <code>lists</code>. The lists each have an id as the key, and a nested property you want to prevent from being synced:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> docToPatch <span class="token operator">=</span> <span class="token punctuation">{</span>
  lists<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'list-id1'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>allowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> notAllowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'list-id2'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>allowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> notAllowed<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// in your module config, either set the fillables like so:</span>
fillables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'lists.*.allowed'</span><span class="token punctuation">]</span>

<span class="token comment">// OR set your guard like so:</span>
guard<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'lists.*.notAllowed'</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="default-values"><a href="#default-values" aria-hidden="true" class="header-anchor">#</a> Default values</h2> <p>You can set up default values for your docs that will be added to the object on each insert.</p> <p><strong>In 'doc' mode</strong> this can just be done by adding those values to your module state. This is how's it's done regularly with Vuex.</p> <p><strong>In 'collection' mode</strong> the library takes care of applying these default values to each doc that's inserted. Default values should be set in your modules <code>sync</code> config:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> pokemonBoxModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// your other vuex-easy-firestore config...</span>
  sync<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    defaultValues<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      freed<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Now, when you add a new pokemon, it will automatically have `freed`</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'pokemonBox/insert'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Poliwag'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// This will appear in your module like so:</span>
<span class="token comment">// {name: 'Poliwag', freed: false}</span>
</code></pre></div><p>Also, to make sure there are no vue reactivity issues, these default values are also applied to any doc that doesn't have them that's retrieved from the server.</p> <h2 id="firestore-timestamp-conversion"><a href="#firestore-timestamp-conversion" aria-hidden="true" class="header-anchor">#</a> Firestore Timestamp conversion</h2> <p>Firestore works with special &quot;<a href="https://firebase.google.com/docs/reference/js/firebase.firestore.Timestamp" target="_blank" rel="noopener noreferrer">timestamp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot; fields rather than with <code>new Date()</code>. Vuex-easy-firestore also uses the timestamp fields for the auto-generated fields <code>created_at</code> and <code>updated_at</code> which are added to your docs.</p> <p>In your app, if you want to use these timestamps as a <code>new Date()</code> object you have to call <code>timestamp.toDate()</code> on each of these fields. <strong>Luckily we can do this for you!</strong></p> <p>You just have to specify the fields in a <code>convertTimestamps</code> object in your module config like so:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> vuexModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// your other vuex-easy-firestore config...</span>
  serverChange<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    convertTimestamps<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      updated_at<span class="token punctuation">:</span> <span class="token string">'%convertTimestamp%'</span>
      <span class="token comment">// define each field like so ↑ in an object here</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now the Timestamp on <code>updated_at</code> will automatically trigger <code>Timestamp.toDate()</code> before being added to your vuex store!</p> <p>If you want to use Firestore <em>timestamps</em> on a custom field, you can just go ahead and set the field to <code>new Date()</code>. This is because Firestore will automatically change this for you to a timestamp field on the server either way!
Eg.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'module/set'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>timestampField<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The above will be added as <code>new Date()</code> in vuex but as a <em>timestamp</em> in Firestore.</p> <h2 id="shortcut-set-path-doc"><a href="#shortcut-set-path-doc" aria-hidden="true" class="header-anchor">#</a> Shortcut: set(path, doc)</h2> <p>Inside Vue component templates there is a shortcut for <code>dispatch('module/set', newVal)</code>. If you enable support for my other library called 'vuex-easy-access' you will be able to just use <code>set('module', newVal)</code> instead!</p> <p>For this shortcut usage, import the npm module 'vuex-easy-access' when you initialise your store and add it as plugin. Pass the 'vuex-easy-firestore' plugin first and <strong>the 'vuex-easy-access' plugin second</strong> for it to work properly.</p> <p>Also add <code>{vuexEasyFirestore: true}</code> in the options when you initialise 'vuex-easy-access' like so:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> vuexEasyAccess <span class="token keyword">from</span> <span class="token string">'vuex-easy-access'</span>
<span class="token keyword">const</span> easyAccess <span class="token operator">=</span> <span class="token function">vuexEasyAccess</span><span class="token punctuation">(</span><span class="token punctuation">{</span>vuexEasyFirestore<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>easyFirestoreModules<span class="token punctuation">,</span> easyAccess<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please check the relevant documentation <a href="https://mesqueeb.github.io/vuex-easy-access/advanced.html#firestore-integration-for-google-firebase" target="_blank" rel="noopener noreferrer">on the vuex-easy-access repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>!</p> <h3 id="about-vuex-easy-access"><a href="#about-vuex-easy-access" aria-hidden="true" class="header-anchor">#</a> About 'vuex-easy-access'</h3> <p>Vuex easy access has a lot of different features to make working with your store extremely easy. The main purpose of that library is to be able to do any kind of mutation to your store directly from the templates without having to set up actions yourself. It is especially usefull when working with wildcards. Please see the <a href="https://mesqueeb.github.io/vuex-easy-access/" target="_blank" rel="noopener noreferrer">introduction on Vuex Easy Access here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="pass-firebase-dependency"><a href="#pass-firebase-dependency" aria-hidden="true" class="header-anchor">#</a> Pass Firebase dependency</h2> <p>Vuex Easy Firestore will automatically use Firebase as a peer dependency to access <code>Firebase.auth()</code> etc. If you want to pass a Firebase instance you have instantiated yourself you can do so like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// make sure you import at least auth and firestore as well:</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Firebase <span class="token keyword">from</span> <span class="token string">'firebase/app'</span>
<span class="token keyword">import</span> <span class="token string">'firebase/auth'</span>
<span class="token keyword">import</span> <span class="token string">'firebase/firestore'</span>

<span class="token keyword">import</span> createEasyFirestore <span class="token keyword">from</span> <span class="token string">'vuex-easy-firestore'</span>
<span class="token keyword">const</span> easyFirestore <span class="token operator">=</span> <span class="token function">createEasyFirestore</span><span class="token punctuation">(</span>
  userDataModule<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>logging<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> FirebaseDependency<span class="token punctuation">:</span> Firebase<span class="token punctuation">}</span> <span class="token comment">// pass Firebase like this. Mind the Capital F!</span>
<span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/mesqueeb/vuex-easy-firestore/edit/dev/docs/extra-features.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuex-easy-firestore/hooks.html" class="prev">
          Hooks
        </a></span> <span class="next"><a href="/vuex-easy-firestore/config-example.html">
          Config example
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vuex-easy-firestore/assets/js/6.603af246.js" defer></script><script src="/vuex-easy-firestore/assets/js/app.b09044e6.js" defer></script>
  </body>
</html>
